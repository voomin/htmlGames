<style>
td{
	width:12px;
	height:5px;
	border:1px solid #333;
}
</style>
<html>
<body>
<table>
<script>
var map=10;
var percent=10;
var mapping=[];
var Rarr=[".","@"];
for(i=0;i<map;i++){
	mapping[i]=new Array();
	document.write("<tr>");
	for(ii=0;ii<map;ii++){
		var tos=0;
		if(R(99)<percent){tos=1;}
		mapping[i][ii]=tos;
		document.write("<td id='td_["+i+"]["+ii+"]' title='"+i+","+ii+"'>"+Rarr[mapping[i][ii]]+"</td>");		
	}
	document.write("</tr>");
}
function R(rnum){
	return Math.round(Math.random()*rnum);
	
}
</script>
</table>
</body>
</html>
<script>
var answer=0;
function clean(){
	for(i=0;i<map;i++){
		for(ii=0;ii<map;ii++){		
        document.getElementById("td_["+i+"]["+ii+"]").style.backgroundColor="white";
		}
	}
}
function solution(board){

    var num=0;
    for(y=0;y<board.length;y++){
        for(x=0;x<board[0].length;x++){
            if(board[y][x]){
                for(num=1;board[y][x+num];num++){
                    if(x+num==board[0].length){break;}
                }//for num=1;
                        if(check([y,x],[y+num-1,x+num-1])){
                            console.log("hi");
                            answer=num*num}
                //if(Math.sqrt(answer)>board.length-y){y=board.length;x=board[0].length;}
                x=x+num;
            }
            else{num=0;}
        }num=0;
    }
    return answer;
     function check(point1,point2){
         console.log(point1+":"+point2+"num="+num);
         if(point2[1]-point1[1]<Math.sqrt(answer)-1){return false;}
        if(point2[0]>=board.length){return false;}
        
        for(i=point1[0];i<=point2[0];i++){
            for(ii=point1[1];ii<=point2[1];ii++){
                if(!board[i][ii]){return false;}
            }
        }
        document.getElementById("td_["+point1[0]+"]["+point1[1]+"]").style.backgroundColor="green";
        document.getElementById("td_["+point2[0]+"]["+point2[1]+"]").style.backgroundColor="blue";
        return true;
    }//check
}
function solution2(board)
{
    var num=0;
    for(y=0;y<board.length;y++){
        for(x=0;x<board[0].length;x++){
            if(board[y][x]){
                num++;
                insert(x,y,0);
            }
                else{num=0;}
            }
        num=0;
    }
    return answer;
    function insert(x,y,plus){
        if(check([y,x-num+1],[y+num-1,x])){
                    
                    if(num*num>answer){answer=num*num;}
                }
    }
    function check(point1,point2){
        if(point2[0]>=board.length){return false;}
        for(i=point1[0];i<=point2[0];i++){
            for(ii=point1[1];ii<=point2[1];ii++){
                if(!board[i][ii]){return false;}
            }
        }
        document.getElementById("td_["+point1[0]+"]["+point1[1]+"]").style.backgroundColor="green";
        document.getElementById("td_["+point2[0]+"]["+point2[1]+"]").style.backgroundColor="blue";
       
        return true;
    }//check
}
function solution3(board){
	answer=0;
	for(y=0;y<board.length;y++){
		for(x=0;x<board[0].length;x++){
			if(board[y][x]){
				for(z=Math.sqrt(answer);z<map;z++){
					//console.log(z+"z");
					if(y+z>=board.length||x+z>=board[0].length){break;}
					if(check([y,x],[y+z,x+z])){console.log("hi");answer=(z+1)*(z+1);}

				}
			}
		}
	}
	return answer
}

function check(point1,point2){
        if(point2[0]>=map){return false;}
        console.log(point1+":"+point2);
        for(i=point1[0];i<=point2[0];i++){
            for(ii=point1[1];ii<=point2[1];ii++){
                if(!mapping[i][ii]){return false;}
            }
        }
        document.getElementById("td_["+point1[0]+"]["+point1[1]+"]").style.backgroundColor="green";
        document.getElementById("td_["+point2[0]+"]["+point2[1]+"]").style.backgroundColor="blue";       
        return true;
    }//check
</script>












